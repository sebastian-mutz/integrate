<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>P1-E005 &#8212; ClimStat 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="P2-E001" href="../E101/E101.html" />
    <link rel="prev" title="P1-E004" href="../E004/E004.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../../_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="../../index.html">ClimStat-2019</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="p1-e005">
<h1>P1-E005<a class="headerlink" href="#p1-e005" title="Permalink to this headline">¶</a></h1>
<p>In this exercise, you will learn about reading from files, writing into files, operations with the <em>numpy</em> library and visualising data with the <em>matplotlib</em> library.</p>
<div class="section" id="information">
<h2>Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Learning goals</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Concepts</strong></td>
<td><ul class="first last simple">
<li>reading and writing data</li>
<li>data visualisation</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>Skills</strong></td>
<td><ul class="first last simple">
<li>simple operations with <em>numpy</em></li>
<li>read and write input/output</li>
<li>create simple plots with <em>matplotlib</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="topic">
<p class="topic-title first">What to Submit</p>
<p>Submit your script(s), output file(s) and figure(s) for the final task of this exercise via ILIAS. These script should be named <em>[your surname]_e005.[ext]</em>, where <em>[ext]</em> is the file extension, the input/output file should be named <em>[your surname]_[input/output]_e005.asc</em>, and the figure should be named <em>[your surname]_e005.jpg</em>.</p>
</div>
</div>
<div class="section" id="numpy-and-matplotlib">
<h2>NumPy and Matplotlib<a class="headerlink" href="#numpy-and-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>NumPy is a very commonly used Python library for numerical computing. Many other Python libraries use NumPy. Matplotlib, on the other hand, is one of the most commonly used Python libraries for plotting scientific data and results. In this excercise, we make heavy use of those two libraries, because (a) they are very commonly used, (b) they have fewer dependencies than many alternatives, and (c) there are comparable libraries for other programming languages you may prefer using. In fact, Matplotlib’s <em>pyplot</em> is similar to plotting with Matlab.</p>
</div>
<div class="section" id="input-output">
<h2>Input/Output<a class="headerlink" href="#input-output" title="Permalink to this headline">¶</a></h2>
<p>In exercises E001 - E004, we have covered the basics of practical programming, procedural and object-oriented programming and let the computer perform various tasks for us. However, so far, we created data within our scripts, and the results of our calculations were lost once we ended our coding session. In this exercise, we will learn how to read data from a simple text file and write your results into another. Reading and writing into files of a specific formats, such as netCDF, requires the use of specific libraries. In some cases, different libraries allow you to perform the same input/output actions; in other cases, you may not even need to load any libraries to read and write into simple files. To reduce the number of libraries we use in this excercise, <strong>we will only deal with simple text(ascii) files read and write data with NumPy</strong>.</p>
</div>
<div class="section" id="rng-testing">
<h2>RNG Testing<a class="headerlink" href="#rng-testing" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="../../_images/dice_cc0.jpg" src="../../_images/dice_cc0.jpg" />
</div>
<p>Imagine we have written a Fortran module <em>rnd</em>, a random number generator (RNG) that creates random numbers from a specific distribution. We want to test this module now and created two time series: One for random normally distributed data, and one for random data from an exponential distribution. We now want to quickly plot the test series to check if they look reasonable. Our Fortran programme generated two text files for the series:</p>
<ul class="simple">
<li><a class="reference download internal" download="" href="../../_downloads/4cdcee36e8b8593670bacc9944af1eef/test_rnd_normal.asc"><code class="xref download docutils literal notranslate"><span class="pre">test_rnd_normal.asc</span></code></a></li>
<li><a class="reference download internal" download="" href="../../_downloads/cb39eef6ebf1e2b7f188057a0ffaafac/test_rnd_exponential.asc"><code class="xref download docutils literal notranslate"><span class="pre">test_rnd_exponential.asc</span></code></a></li>
</ul>
<p>Let’s download the files above and use NumPy to read those files and store the data in <em>dat_nrm</em> and <em>dat_exp</em> respectively. The reading is done by using NumPy’s <em>genfromtxt()</em> function, a general function for reading data separated by common separators, such as spaces and commas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import module</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># read files</span>
<span class="n">dat_nrm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;test_rnd_normal.asc&#39;</span><span class="p">)</span>
<span class="n">dat_exp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;test_rnd_exponential.asc&#39;</span><span class="p">)</span>

<span class="c1"># display data</span>
<span class="k">print</span><span class="p">(</span><span class="n">dat_nrm</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">dat_exp</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are different way in which text files can be read even with NumPy. <em>loadtxt()</em> is another option.</p>
</div>
<p>Notice how we have two values per line: The first we interpret as a time step, the second is the data of interest. Unless we have magical statistics-vision (Stat-Woman to the rescue!), we won’t be able to tell from this data dump how the data is distributed. We use matplotlib to visualise our data. Let’s start with the random numbers from a normal distribution. Examine and execute the code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import module</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c1"># read files</span>
<span class="n">dat_nrm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;test_rnd_normal.asc&#39;</span><span class="p">)</span>
<span class="n">dat_exp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;test_rnd_exponential.asc&#39;</span><span class="p">)</span>

<span class="c1"># pass data from normal distribution to x and y vectors</span>
<span class="n">x</span><span class="o">=</span><span class="n">dat_nrm</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">dat_nrm</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># create simple x-y plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                          <span class="c1"># number your figures</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                         <span class="c1"># create a simple x-y plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;rnd: normal distribution&#39;</span><span class="p">)</span>  <span class="c1"># set a title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time steps&#39;</span><span class="p">)</span>               <span class="c1"># label the x axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;random number&#39;</span><span class="p">)</span>            <span class="c1"># label the y axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>              <span class="c1"># give x and y bounds</span>
</pre></div>
</div>
<p>We should now be looking at a figure like this:</p>
<div class="figure">
<img alt="../../_images/rnd_norm.jpg" src="../../_images/rnd_norm.jpg" />
</div>
<p>Once you think you know what’s going on here, expand the script to include code that plots the data from the exponential distribution. Feel free to browse the web for plot options and choose the type of plot you regard as most fitting for exponentially distributed data. Think about the type of data visualisation that will most easily allow you to get a sense of the frequency distribution of random numbers.</p>
<p><strong>Ask the instructor(s) for help if needed.</strong></p>
<p>Creating a histogram from your vectors may be one option to better visualise the randomly generated numbers. If you haven’t already, generate a histogram from one of your y vectors and save it into a text file as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a histogram from y, use 10 bins</span>
<span class="n">y_hist</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># write frequency in file</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s1">&#39;histogram.asc&#39;</span><span class="p">,</span> <span class="n">y_hist</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.3f</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that we only write the frequency of y_hist using <em>savetxt()</em>, and we specify a format (fmt). Is this the best way to go about it? If not, what would you do differently?</p>
</div>
<div class="section" id="your-task">
<h2>Your Task<a class="headerlink" href="#your-task" title="Permalink to this headline">¶</a></h2>
<p>We’re finally sufficiently equipped to do something useful. For the final task in phase 1 of this course, create one or several scripts that make use of the following:</p>
<ul class="simple">
<li>arrays</li>
<li>functions</li>
<li>classes</li>
<li>reading/writing data</li>
<li>data visualisation</li>
</ul>
<p>You are given complete creative freedom here. The only requirement is that the type of tasks you instruct the computer to do are warranted. In case you need some inspiration, here is one way you can build on your work of previous exercises:</p>
<ul class="simple">
<li>create a class for students, and create several objects for this class</li>
<li>for different semesters, read the grades of students from a text file</li>
<li>using a class-specific function, calculate the average and semester average grades for each object (student)</li>
<li>write the average grades into a text file</li>
<li>plot the grades in a way that allows you to get a sense of the distribution of grades or the progress of individual students</li>
</ul>
<p>When you are happy with your code, data and plots, name your files as described above and submit them via ILIAS.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Late submissions won’t be accepted!</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/climStatBannerSmall.jpg" alt="Logo"/>
            </a></p>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Course Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general/info.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/syllabus.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/grading.html">Grading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Exercises:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../info.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E001/E001.html">P1-E001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E002/E002.html">P1-E002</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E003/E003.html">P1-E003</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E004/E004.html">P1-E004</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">P1-E005</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#information">Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numpy-and-matplotlib">NumPy and Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-output">Input/Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rng-testing">RNG Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#your-task">Your Task</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../E101/E101.html">P2-E001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E102/E102.html">P2-E002</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E103/E103.html">P2-E003</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E104/E104.html">P2-E004</a></li>
</ul>
<p class="caption"><span class="caption-text">Projects:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P001/P001_info.html">Project P001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P002/P002_info.html">Project P002</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P003/P003_info.html">Project P003</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P004/P004_info.html">Project P004</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P005/P005_info.html">Project P005</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P006/P006_info.html">Project P006</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P007/P007_info.html">Project P007</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources/dictionary.html">Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/reading.html">Reading</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../E101/E101.html" title="P2-E001"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../E004/E004.html" title="P1-E004"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Sebastian G. Mutz.
      Last updated on Jul 10, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>