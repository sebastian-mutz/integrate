<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>P1-E003 &#8212; ClimStat 1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="P1-E004" href="../E004/E004.html" />
    <link rel="prev" title="P1-E002" href="../E002/E002.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../../_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="../../index.html">ClimStat-2019</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="p1-e003">
<h1>P1-E003<a class="headerlink" href="#p1-e003" title="Permalink to this headline">¶</a></h1>
<p>In this exercise, you will learn about writing your own functions and using them in an efficient way.</p>
<div class="section" id="information">
<h2>Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Learning goals</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Concepts</strong></td>
<td><ul class="first last simple">
<li>functions</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>Skills</strong></td>
<td><ul class="first last simple">
<li>use functions from existing modules</li>
<li>write your own function with specified i/o</li>
<li>save functions in script</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="topic">
<p class="topic-title first">What to Submit</p>
<p>Submit your script(s) for the final task of this exercise via ILIAS. These script should be named <em>[your surname]_e003_functions.[ext]</em> and <em>[your surname]_e003_main.[ext]</em>, where <em>[ext]</em> is the file extension. In case of Python, this would be <em>.py</em>, for Matlab it is <em>.m</em>, etc.</p>
</div>
</div>
<div class="section" id="functions-from-modules">
<h2>Functions from Modules<a class="headerlink" href="#functions-from-modules" title="Permalink to this headline">¶</a></h2>
<p>In exercises E001 and E002, you learnt the basics of programming. With the concepts introduced in E001 and E002, you are able to perform any calculation and solve virtually any mathematical problem. However, the code will become very messy very quickly if you only ever call on those primitive methods. In this exercise, you learn about writing and using your own functions. You may recall that we already used functions in exercise E001 when we calculated the sin, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="kn">as</span> <span class="nn">mt</span>
<span class="n">mt</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Imagine having to manually code this calculation with loops and if statements - possible, but inefficient, since we need to carry out this type of calculation a lot. Instead, this function has been written and packaged in the <em>math</em> module, which you can then import to use the <em>sin()</em> function and other functions included in the module.</p>
</div>
<div class="section" id="cashier-function-example">
<h2>Cashier Function Example<a class="headerlink" href="#cashier-function-example" title="Permalink to this headline">¶</a></h2>
<p>While we touched on the concept of arguments in functions before, it is now time to look in more detail into functions. A function is a unit of code that performs a specific task based on so called input <em>arguments</em>, i.e. options and values you pass to the function when calling it, to calculate and return one value. A useful analogy for this is a cashier desk at a store.</p>
<div class="figure">
<img alt="../../_images/cashier_cc0.jpg" src="../../_images/cashier_cc0.jpg" />
</div>
<p>The calculation of your total cost can be thought of as a function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">cashierFunction</span><span class="p">(</span><span class="n">productlist</span><span class="p">)</span>
</pre></div>
</div>
<p>First, you pass a list of products, corresponding to input arguments, to the cashier. Internally, the cashier or their computer then looks up the prices for the passed products and sums these up. This step corresponds to the specific task/computation within a function. Finally, the function has the total and returns this one value as output back to you.</p>
<p>Let’s look at an implementation of this. Examine the code (and the comments) below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This pythong script contains a function to lookup product prices for passed products and a function sum these up to return the total.</span>
<span class="c1">#</span>
<span class="c1"># This is a dictionary of product prices. It is not part of any specific function below and can therefore be accessed from anywhere in the script.</span>
<span class="n">productPriceDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span><span class="mf">1.50</span><span class="p">,</span><span class="s1">&#39;doggeFood&#39;</span><span class="p">:</span><span class="mf">2.99</span><span class="p">,</span><span class="s1">&#39;myPhone18&#39;</span><span class="p">:</span><span class="mf">99999.99</span><span class="p">,</span><span class="s1">&#39;freedomFromCapitalism&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">}</span>
<span class="c1">#</span>
<span class="c1"># function looks up the prices of products</span>
<span class="k">def</span> <span class="nf">lookupPrice</span><span class="p">(</span><span class="n">product</span><span class="p">):</span> 
    <span class="n">price</span> <span class="o">=</span> <span class="n">productPriceDict</span><span class="p">[</span><span class="n">product</span><span class="p">]</span>               <span class="c1"># loop up the price of a product based on the passed product name and the price dictionary</span>
    <span class="k">return</span> <span class="n">price</span>                                    <span class="c1"># return the price to the script/code block that called this function</span>
<span class="c1">#    </span>
<span class="c1"># this function calculate the total based on passed product list</span>
<span class="k">def</span> <span class="nf">calculateTotal</span><span class="p">(</span><span class="n">productList</span><span class="p">):</span>   
    <span class="n">total</span> <span class="o">=</span> <span class="mf">0.0</span>                                     <span class="c1"># explicitly set the total to zero before summing up prices</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">productList</span><span class="p">)</span> <span class="p">):</span>            <span class="c1"># loop through the list of products</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">lookupPrice</span><span class="p">(</span><span class="n">productList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># update the total by looking up the price of the product and adding it to the total</span>
    <span class="k">return</span> <span class="n">total</span>                                    <span class="c1"># return the total to the script/code block that called this function </span>
</pre></div>
</div>
<p>You start defining a function with the <strong>def</strong> statement. Note that in Python, just as is the case for loops and if statements, you do not need to explicitly declare an end to the function. Instead, the indented block of code following the <strong>def</strong> statement is interpreted as code belonging to the function. You may have noticed that we have 2 functions in here:</p>
<ul class="simple">
<li>1: <strong>lookupPrice()</strong> - this one looks up and returns the price of a product based on the product name that is passed to the function as an argument.</li>
<li>2: <strong>calculateTotal()</strong> - this one calculates the total based on the list of product names that is passed to the function. This function uses the <em>lookupPrice()</em> function above.</li>
</ul>
<p>Now let’s have a look how you would use this. Copy the code above into your code editor and save it as <em>cashier.py</em>. In your console, create a list of products. These must be in the product dictionary. (Feel free to expand this). One example could be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">products</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apples&#39;</span><span class="p">,</span> <span class="s1">&#39;apples&#39;</span><span class="p">,</span> <span class="s1">&#39;doggeFood&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>This is the list of products that serves as input for our function to calculate the total. Just as you did for the math module, import your <em>cashier.py</em> script to access the functions within it. Then, call the function to calculate the total, pass your product list to the function as an argument, save the <em>returned</em> value of the function in the <em>totalToPay</em> variable and display it with the <em>print</em> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cashier</span>
<span class="n">totalToPay</span> <span class="o">=</span> <span class="n">cashier</span><span class="o">.</span><span class="n">calculateTotal</span><span class="p">(</span><span class="n">products</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">totalToPay</span><span class="p">)</span>
</pre></div>
</div>
<p>Feel free to paly around with the product list, price dictionary and other code to get a better grasp of what is happening here. Not every function has to return a value. You can also use functions as procedures that return no value. For example, if you know that you always want your total to simply be displayed and not used in further calculations, you may modify the <em>calculateTotal</em> function by removing the <strong>return</strong> statement and instead add a line of code to <em>print</em> the total. Append this modified function to your <em>cashier.py</em> file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculatePrintTotal</span><span class="p">(</span><span class="n">productList</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mf">0.0</span>                                     <span class="c1"># explicitly set the total to zero before summing up prices</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">productList</span><span class="p">)</span> <span class="p">):</span>            <span class="c1"># loop through the list of products</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">lookupPrice</span><span class="p">(</span><span class="n">productList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># update the total by looking up the price of the product and adding it to the total</span>
    <span class="k">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>                                    <span class="c1"># display total</span>
</pre></div>
</div>
<p>Note that we have given the function a different name. Save the file, create a new product list and call the new function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cashier</span>
<span class="n">products</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apples&#39;</span><span class="p">,</span> <span class="s1">&#39;apples&#39;</span><span class="p">,</span> <span class="s1">&#39;doggeFood&#39;</span><span class="p">]</span>
<span class="n">cashier</span><span class="o">.</span><span class="n">calculatePrintTotal</span><span class="p">(</span><span class="n">products</span><span class="p">)</span>
</pre></div>
</div>
<p>The total was again displayed, because it was <em>printed</em> in the function instead of outside the function. If you attemped to now get the total from the new function and <em>print</em> it by typing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">totalToPay</span> <span class="o">=</span> <span class="n">cashier</span><span class="o">.</span><span class="n">calculateTotal</span><span class="p">(</span><span class="n">products</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">totalToPay</span><span class="p">)</span>
</pre></div>
</div>
<p>You will get a <em>None</em>. This is because in our new function, we do not <strong>return</strong> a value. Therefore, no value will be passed to the variable <em>total</em>.</p>
</div>
<div class="section" id="unit-converter-module">
<h2>Unit Converter Module<a class="headerlink" href="#unit-converter-module" title="Permalink to this headline">¶</a></h2>
<p>Let’s bring this back to atmospheric science and implement a module for unit conversion. This module will consist of several functions and will save you a lot of time and code lines in your main programme.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is a module consisting of several function to convert units. This will also demonstrate the concept of nested functions.</span>

<span class="c1"># convert()</span>
<span class="c1"># ---------</span>
<span class="c1"># This is main function called by external script. It takes 3 input arguments:</span>
<span class="c1"># 1. value       - the value (floating point number) you wish to convert</span>
<span class="c1"># 2. currentUnit - the unit the value you passed </span>
<span class="c1"># 3. targetUnit  - the unit you want your output value to be in </span>
<span class="c1"># </span>
<span class="c1"># It will call the appropriate converter based on the input arguments and </span>
<span class="c1"># return the convertedValue. </span>

<span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">currentUnit</span><span class="p">,</span> <span class="n">targetUnit</span><span class="p">):</span>

    <span class="c1"># k2c()</span>
    <span class="c1"># ---------</span>
    <span class="c1"># This function converts Kelvin to Celsius.</span>
    <span class="c1"># Input (argument): value in Kelvin</span>
    <span class="c1"># Output (returned): value in Celsius</span>
    <span class="k">def</span> <span class="nf">k2c</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">-</span><span class="mf">273.15</span>

    <span class="c1"># c2k()</span>
    <span class="c1"># ---------</span>
    <span class="c1"># This function converts Celsius to Kelvin.</span>
    <span class="c1"># Input (argument): value in Celsius</span>
    <span class="c1"># Output (returned): value in Kelvin</span>
    <span class="k">def</span> <span class="nf">c2k</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">+</span><span class="mf">273.15</span>
    
    <span class="c1"># Here we determine which of the converted functions will be called</span>
    <span class="k">if</span> <span class="n">currentUnit</span> <span class="o">==</span> <span class="s1">&#39;K&#39;</span> <span class="ow">and</span> <span class="n">targetUnit</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
        <span class="n">convertedValue</span> <span class="o">=</span> <span class="n">k2c</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">currentUnit</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span> <span class="ow">and</span> <span class="n">targetUnit</span> <span class="o">==</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span>    
        <span class="n">convertedValue</span> <span class="o">=</span> <span class="n">c2k</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>        
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid arguments&quot;</span><span class="p">)</span>
        
    <span class="c1"># return the converted value                </span>
    <span class="k">return</span> <span class="n">convertedValue</span>
</pre></div>
</div>
<p>Note that this module consists of several function, and the actual converters <em>k2c</em> and <em>c2k</em> are functions nested in the main <em>convert</em> function. This means they only exist within the <em>convert</em> function. Save this block of code as unitConverter.py and use it via the console as we used the <em>cashier</em> function above.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unitConverter</span>                         <span class="c1"># import the unit converter</span>
<span class="k">print</span><span class="p">(</span><span class="n">unitConverter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="mf">10.3</span><span class="p">,</span><span class="s1">&#39;K&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">))</span>   <span class="c1"># convert 10.3 from degrees Kelvin to degrees Celsius</span>
</pre></div>
</div>
<p>Now it’s time to flesh out the module a little. Add additional functions for conversion, e.g. converting mm/d to mm/a and vice vera, come up with new, necessary input arguments and make sure that the <em>convert()</em> function selects the appropriate converter.</p>
</div>
<div class="section" id="your-task">
<h2>Your Task<a class="headerlink" href="#your-task" title="Permalink to this headline">¶</a></h2>
<p>Rememer last week’s assignment? You wrote code that is able to calculate the mean grade based on a list of grades <em>g</em>. Wouldn’t it be great if all you had to do was to pass the list of grades to a function and it would return the mean to you? Restructure last weeks code and put your different methods for calculating the mean grade into a python file as functions. When implementing your <em>mean</em> functions:</p>
<ul class="simple">
<li>write one function for each way to calculate the mean grade</li>
<li>think about the necessary input arguments and the decision process to call one of the two (or more) mean functions</li>
</ul>
<p>Additionally, write a script that defines a list of grades, imports your functions as a module and uses your implemented functions to calculate the mean grade. Make sure your code works!</p>
<p>When you are happy with your code, name your files <em>[your surname]_e003_functions.[ext]</em> (for the scripts containing your functions) and <em>[your surname]_e003_main.[ext]</em> for your script calling the functions, zip them and submit them via ILIAS.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Late submissions won’t be accepted!</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/climStatBannerSmall.jpg" alt="Logo"/>
            </a></p>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Course Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general/info.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/syllabus.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/grading.html">Grading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Exercises:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../info.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E001/E001.html">P1-E001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E002/E002.html">P1-E002</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">P1-E003</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#information">Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions-from-modules">Functions from Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cashier-function-example">Cashier Function Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unit-converter-module">Unit Converter Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#your-task">Your Task</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../E004/E004.html">P1-E004</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E005/E005.html">P1-E005</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E101/E101.html">P2-E001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E102/E102.html">P2-E002</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E103/E103.html">P2-E003</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E104/E104.html">P2-E004</a></li>
</ul>
<p class="caption"><span class="caption-text">Projects:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P001/P001_info.html">Project P001</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P002/P002_info.html">Project P002</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P003/P003_info.html">Project P003</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P004/P004_info.html">Project P004</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P005/P005_info.html">Project P005</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P006/P006_info.html">Project P006</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/P007/P007_info.html">Project P007</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources/dictionary.html">Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/reading.html">Reading</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../E004/E004.html" title="P1-E004"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../E002/E002.html" title="P1-E002"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Sebastian G. Mutz.
      Last updated on Jul 10, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>